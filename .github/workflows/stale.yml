name: Label Auto Generated Issues

on:
  issues:
    types: [opened]

permissions:
  issues: write

jobs:
  label:
    name: Label Issue
    runs-on: ubuntu-latest
    steps:

      - name: Fetch Sources
        uses: actions/checkout@v3

      - name: Label
        uses: IvanFon/super-labeler-action@v1
        with:
          github-token: "${{ secrets.GITHUB_TOKEN }}"

  close:
    name: Close Issue If Needed
    runs-on: ubuntu-latest
    needs: label
    steps:

      - name: Close Issue
        uses: actions/stale@v3.0.14
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          days-before-stale: 0
          days-before-close: 0
          only-labels: "not plugin's bug"
          stale-issue-message: "This auto-generated issue has been automatically closed because it is not an issue for this project. If you think there are something really wrong, please reply this issue. Thanks for your cooperation."
